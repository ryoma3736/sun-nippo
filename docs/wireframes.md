# 画面設計書 - サントリー営業日報アプリ

**プロジェクト名**: sun-nippo
**バージョン**: 1.0.0
**作成日**: 2025-12-07

---

## 📱 画面一覧

| No | 画面名 | パス | ロール | 説明 |
|----|--------|------|--------|------|
| 1 | ログイン | `/login` | 全員 | ユーザー認証 |
| 2 | ダッシュボード | `/dashboard` | 全員 | ホーム画面、概要表示 |
| 3 | 訪問記録一覧 | `/visits` | SALES, MANAGER, ADMIN | 訪問記録の一覧表示 |
| 4 | 訪問記録登録 | `/visits/new` | SALES | 新規訪問記録の作成 |
| 5 | 訪問記録編集 | `/visits/:id/edit` | SALES | 訪問記録の編集 |
| 6 | 訪問記録詳細 | `/visits/:id` | 全員 | 訪問記録の詳細表示 |
| 7 | 受注一覧 | `/orders` | SALES, MANAGER, ADMIN | 受注の一覧表示 |
| 8 | 受注登録 | `/orders/new` | SALES | 新規受注の作成 |
| 9 | 受注編集 | `/orders/:id/edit` | SALES | 受注の編集 |
| 10 | 受注詳細 | `/orders/:id` | 全員 | 受注の詳細表示 |
| 11 | 日報一覧 | `/reports` | 全員 | 日報の一覧表示 |
| 12 | 日報作成 | `/reports/new` | SALES | 新規日報の作成 |
| 13 | 日報詳細 | `/reports/:id` | 全員 | 日報の詳細表示 |
| 14 | 店舗マスタ | `/stores` | MANAGER, ADMIN | 店舗マスタ管理 |
| 15 | 商品マスタ | `/products` | MANAGER, ADMIN | 商品マスタ管理 |
| 16 | ユーザー管理 | `/users` | ADMIN | ユーザーアカウント管理 |

---

## 🎨 画面詳細

### 1. ログイン画面 (`/login`)

#### 目的
ユーザー認証を行い、システムにアクセスする

#### レイアウト
```
┌─────────────────────────────────────┐
│                                     │
│         🍺 sun-nippo                │
│      サントリー営業日報アプリ          │
│                                     │
│  ┌───────────────────────────────┐  │
│  │ メールアドレス                   │  │
│  │ [____________________________]  │  │
│  └───────────────────────────────┘  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │ パスワード                       │  │
│  │ [____________________________]  │  │
│  └───────────────────────────────┘  │
│                                     │
│  [ ] ログイン状態を保持する           │
│                                     │
│  [      ログイン      ]              │
│                                     │
│  パスワードを忘れた方はこちら          │
│                                     │
└─────────────────────────────────────┘
```

#### 入力項目
- メールアドレス（必須）
- パスワード（必須）
- ログイン状態を保持（チェックボックス）

#### アクション
- ログインボタン: 認証処理実行 → ダッシュボードへ遷移
- パスワードリセットリンク: パスワードリセットページへ（Phase 2）

---

### 2. ダッシュボード (`/dashboard`)

#### 目的
ユーザーのロールに応じた概要情報を表示

#### レイアウト（営業担当者用）
```
┌──────────────────────────────────────────────────────────┐
│ Header: ロゴ | ナビゲーション | 通知 | プロフィール       │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  📊 今月の実績                          [詳細を見る >]  │
│  ┌──────────┬──────────┬──────────┐                     │
│  │ 訪問件数  │ 受注件数  │ 売上合計  │                     │
│  │   24     │    18    │ ¥850,000 │                     │
│  │ (目標80%) │ (目標90%)│ (目標85%)│                     │
│  └──────────┴──────────┴──────────┘                     │
│                                                          │
│  📅 今週の活動                          [カレンダー >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 月  火  水  木  金  土  日            │              │
│  │ 5件 3件 6件 4件 -   -   -            │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  ✅ 最近の活動                          [もっと見る >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 2025-12-07 10:00 | ABC商店 訪問完了  │              │
│  │ 2025-12-07 14:30 | XYZ店 受注登録    │              │
│  │ 2025-12-06 16:00 | 日報提出完了      │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  ⚠️ タスク                             [すべて見る >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 未提出の日報: 1件 (12/6分)           │              │
│  │ 次回訪問予定: 3件 (今週中)           │              │
│  └────────────────────────────────────────┘              │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### レイアウト（マネージャー用）
```
┌──────────────────────────────────────────────────────────┐
│ Header: ロゴ | ナビゲーション | 通知 | プロフィール       │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  📊 チーム実績（今月）                   [詳細分析 >]   │
│  ┌──────────┬──────────┬──────────┐                     │
│  │ 訪問件数  │ 受注件数  │ 売上合計  │                     │
│  │   240    │   180    │¥8,500,000│                     │
│  │ (目標85%) │ (目標90%)│ (目標82%)│                     │
│  └──────────┴──────────┴──────────┘                     │
│                                                          │
│  👥 メンバー別実績                      [ランキング >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 1位 田中太郎    訪問28件 売上¥950k  │              │
│  │ 2位 佐藤花子    訪問26件 売上¥880k  │              │
│  │ 3位 鈴木一郎    訪問24件 売上¥850k  │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  ✅ 承認待ち日報                        [一覧を見る >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 12/7 田中太郎の日報 (提出: 17:30)    │ [承認] [差戻]│
│  │ 12/7 佐藤花子の日報 (提出: 18:00)    │ [承認] [差戻]│
│  │ 12/6 鈴木一郎の日報 (提出: 19:00)    │ [承認] [差戻]│
│  └────────────────────────────────────────┘              │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

### 3. 訪問記録一覧 (`/visits`)

#### 目的
登録済みの訪問記録を一覧表示し、検索・絞り込みを行う

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  訪問記録一覧                            [+ 新規登録]    │
│                                                          │
│  🔍 検索・絞り込み                                       │
│  ┌──────────┬──────────┬──────────┬─────────┐           │
│  │期間       │店舗検索   │訪問目的   │ 検索    │           │
│  │[____]~[__]│[_______] │[_______] │[検索実行]│           │
│  └──────────┴──────────┴──────────┴─────────┘           │
│                                                          │
│  表示: 全20件 (1-20件目)              [CSV出力]         │
│                                                          │
│  ┌────┬──────┬─────────┬────────┬────┬────┐            │
│  │日付 │時間   │店舗名    │訪問目的 │状態│操作│            │
│  ├────┼──────┼─────────┼────────┼────┼────┤            │
│  │12/7│10:00 │ABC商店   │定期訪問 │完了│詳細│            │
│  │12/7│14:30 │XYZ店     │商品提案 │完了│詳細│            │
│  │12/6│11:00 │DEF商店   │新規開拓 │完了│詳細│            │
│  │...                                              │            │
│  └────┴──────┴─────────┴────────┴────┴────┘            │
│                                                          │
│  [< 前へ]  1 2 3 ... 10  [次へ >]                       │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### 機能
- 日付範囲での絞り込み
- 店舗名での検索（部分一致）
- 訪問目的での絞り込み
- 並び替え（日付昇順/降順）
- ページネーション（20件/ページ）
- CSV出力

---

### 4. 訪問記録登録 (`/visits/new`)

#### 目的
新規訪問記録を登録する

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  訪問記録登録                            [戻る]          │
│                                                          │
│  基本情報                                                │
│  ┌────────────────────────────────────────┐              │
│  │ 訪問日 *                                │              │
│  │ [2025-12-07▼]                           │              │
│  │                                         │              │
│  │ 店舗 *                                  │              │
│  │ [店舗を選択▼] または [検索: _______]    │              │
│  │                                         │              │
│  │ 訪問目的 *                              │              │
│  │ ( ) 定期訪問  ( ) 新規開拓              │              │
│  │ ( ) クレーム対応 ( ) 商品提案           │              │
│  │ ( ) フォローアップ ( ) その他           │              │
│  │                                         │              │
│  │ 訪問時間                                │              │
│  │ 開始: [10:00] ~ 終了: [11:30]          │              │
│  │                                         │              │
│  │ GPS位置情報                             │              │
│  │ [現在地を取得]  緯度: ____ 経度: ____  │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  活動内容                                                │
│  ┌────────────────────────────────────────┐              │
│  │ 商談内容                                │              │
│  │ [________________________________       │              │
│  │  ________________________________       │              │
│  │  ________________________________]      │              │
│  │                                         │              │
│  │ 提案商品（複数選択可）                   │              │
│  │ [商品を選択▼]                           │              │
│  │ - プレミアムモルツ 350ml               │              │
│  │ - 角ハイボール 500ml         [削除]    │              │
│  │                                         │              │
│  │ 競合情報                                │              │
│  │ [________________________________]      │              │
│  │                                         │              │
│  │ 店舗状況                                │              │
│  │ [________________________________]      │              │
│  │                                         │              │
│  │ 次回訪問予定日                          │              │
│  │ [2025-12-14▼]                          │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  [キャンセル]                    [登録する]             │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### 入力項目
**必須項目**:
- 訪問日
- 店舗
- 訪問目的

**任意項目**:
- 訪問時間（開始・終了）
- GPS位置情報
- 商談内容
- 提案商品
- 競合情報
- 店舗状況
- 次回訪問予定日

#### バリデーション
- 訪問日は未来日不可
- 店舗は必ず選択
- 訪問目的は必ず選択

---

### 5. 受注登録 (`/orders/new`)

#### 目的
新規受注を登録する

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  受注登録                                [戻る]          │
│                                                          │
│  基本情報                                                │
│  ┌────────────────────────────────────────┐              │
│  │ 受注日 *                                │              │
│  │ [2025-12-07▼]                           │              │
│  │                                         │              │
│  │ 店舗 *                                  │              │
│  │ [店舗を選択▼]                           │              │
│  │                                         │              │
│  │ 納品予定日 *                            │              │
│  │ [2025-12-14▼]                          │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  商品明細                               [+ 商品追加]     │
│  ┌────────────────────────────────────────┐              │
│  │ No │ 商品名        │数量 │単価  │小計    │           │
│  ├────┼──────────────┼────┼──────┼────────┤           │
│  │ 1  │プレモル350ml │ 50  │¥200  │¥10,000 │ [削除]   │
│  │ 2  │角ハイボール  │ 30  │¥180  │¥5,400  │ [削除]   │
│  │ 3  │[商品選択▼]   │[__] │¥___ │¥______ │           │
│  └────┴──────────────┴────┴──────┴────────┘           │
│                                                          │
│  金額計算                                                │
│  ┌────────────────────────────────────────┐              │
│  │ 小計:          ¥15,400                 │              │
│  │ 割引額:        [______]                 │              │
│  │ ───────────────────────────────────    │              │
│  │ 合計金額:      ¥15,400                 │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  備考                                                    │
│  ┌────────────────────────────────────────┐              │
│  │ [________________________________]      │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  [キャンセル]                    [登録する]             │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### 機能
- 商品の複数行入力
- 単価の自動取得（商品マスタから）
- 小計の自動計算（単価 × 数量）
- 合計金額の自動計算（Σ小計 - 割引額）
- 商品行の追加・削除

---

### 6. 日報作成 (`/reports/new`)

#### 目的
その日の活動をまとめて日報を作成・提出する

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  日報作成 - 2025年12月7日                [戻る]         │
│                                                          │
│  活動サマリー（自動集約）                                │
│  ┌────────────────────────────────────────┐              │
│  │ 訪問件数: 5件                           │              │
│  │ 受注件数: 3件                           │              │
│  │ 売上合計: ¥85,000                       │              │
│  │ 訪問時間: 4時間30分                     │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  訪問先一覧                              [詳細を見る >]  │
│  ┌────────────────────────────────────────┐              │
│  │ 10:00 ABC商店 (定期訪問)               │              │
│  │ 11:30 XYZ店 (商品提案)                 │              │
│  │ 14:00 DEF商店 (新規開拓)               │              │
│  │ 15:30 GHI店 (定期訪問)                 │              │
│  │ 17:00 JKL商店 (フォローアップ)         │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  本日の所感 *                                            │
│  ┌────────────────────────────────────────┐              │
│  │ [________________________________       │              │
│  │  ________________________________       │              │
│  │  ________________________________       │              │
│  │  ________________________________]      │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  課題・問題点                                            │
│  ┌────────────────────────────────────────┐              │
│  │ [________________________________]      │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  明日の予定                                              │
│  ┌────────────────────────────────────────┐              │
│  │ [________________________________]      │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  [下書き保存]                      [提出する]           │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### 機能
- 当日の訪問記録・受注データを自動集約
- 活動サマリーの自動生成
- 所感の手動入力（必須）
- 下書き保存機能
- 提出機能（提出後は編集不可）

---

### 7. 日報詳細・承認 (`/reports/:id`)

#### 目的
日報の詳細を表示し、マネージャーが承認/差し戻しを行う

#### レイアウト（マネージャー用）
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  日報詳細 - 田中太郎 (2025年12月7日)     [戻る]         │
│                                                          │
│  ステータス: 提出済み (2025-12-07 17:30)                │
│                                                          │
│  活動サマリー                                            │
│  ┌────────────────────────────────────────┐              │
│  │ 訪問件数: 5件                           │              │
│  │ 受注件数: 3件                           │              │
│  │ 売上合計: ¥85,000                       │              │
│  │ 訪問時間: 4時間30分                     │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  訪問先一覧                                              │
│  ┌────────────────────────────────────────┐              │
│  │ 10:00 ABC商店 (定期訪問)               │              │
│  │   商談内容: 新商品の提案を実施...       │              │
│  │                                         │              │
│  │ 11:30 XYZ店 (商品提案)                 │              │
│  │   商談内容: ハイボール缶の陳列改善...   │              │
│  │                                         │              │
│  │ ... (以下省略)                          │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  本日の所感                                              │
│  ┌────────────────────────────────────────┐              │
│  │ 本日は5件の訪問を実施。ABC商店では... │              │
│  │ 新商品の提案が好評で、次回訪問時に...  │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  課題・問題点                                            │
│  ┌────────────────────────────────────────┐              │
│  │ DEF商店での競合商品の陳列が目立つ...   │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  明日の予定                                              │
│  ┌────────────────────────────────────────┐              │
│  │ MNO商店への新規訪問、...               │              │
│  └────────────────────────────────────────┘              │
│                                                          │
│  承認操作                                                │
│  ┌────────────────────────────────────────┐              │
│  │ コメント（差し戻し時は必須）            │              │
│  │ [________________________________]      │              │
│  │                                         │              │
│  │ [差し戻す]              [承認する]     │              │
│  └────────────────────────────────────────┘              │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

### 8. 店舗マスタ管理 (`/stores`)

#### 目的
店舗マスタの一覧表示・登録・編集を行う（MANAGER, ADMIN専用）

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  店舗マスタ                              [+ 新規登録]    │
│                                                          │
│  🔍 検索                                                 │
│  ┌──────────┬──────────┬─────────┐                      │
│  │店舗名     │店舗区分   │ 検索    │                      │
│  │[_______] │[_______] │[検索実行]│                      │
│  └──────────┴──────────┴─────────┘                      │
│                                                          │
│  表示: 全150件 (1-20件目)            [CSV出力]          │
│                                                          │
│  ┌──────┬──────────┬────────┬────────┬────┬────┐        │
│  │コード│店舗名     │区分     │住所     │状態│操作│        │
│  ├──────┼──────────┼────────┼────────┼────┼────┤        │
│  │S001  │ABC商店    │スーパー │東京都... │有効│編集│        │
│  │S002  │XYZ店      │コンビニ │東京都... │有効│編集│        │
│  │S003  │DEF商店    │飲食店   │神奈川... │有効│編集│        │
│  │...                                              │        │
│  └──────┴──────────┴────────┴────────┴────┴────┘        │
│                                                          │
│  [< 前へ]  1 2 3 ... 8  [次へ >]                        │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

### 9. 商品マスタ管理 (`/products`)

#### 目的
商品マスタの一覧表示・登録・編集を行う（MANAGER, ADMIN専用）

#### レイアウト
```
┌──────────────────────────────────────────────────────────┐
│ Header                                                   │
├──────────────────────────────────────────────────────────┤
│  商品マスタ                              [+ 新規登録]    │
│                                                          │
│  🔍 検索                                                 │
│  ┌──────────┬──────────┬─────────┐                      │
│  │商品名     │カテゴリ   │ 検索    │                      │
│  │[_______] │[_______] │[検索実行]│                      │
│  └──────────┴──────────┴─────────┘                      │
│                                                          │
│  表示: 全80件 (1-20件目)             [CSV出力]          │
│                                                          │
│  ┌──────┬────────────┬────────┬──────┬────────┬────┐    │
│  │コード│商品名       │カテゴリ │容量   │標準価格 │操作│    │
│  ├──────┼────────────┼────────┼──────┼────────┼────┤    │
│  │P001  │プレモル350ml│ビール   │350ml │¥200    │編集│    │
│  │P002  │角ハイボール │ハイボール│500ml │¥180    │編集│    │
│  │P003  │山崎12年     │ウイスキー│700ml │¥8,000  │編集│    │
│  │...                                                  │    │
│  └──────┴────────────┴────────┴──────┴────────┴────┘    │
│                                                          │
│  [< 前へ]  1 2 3 4  [次へ >]                            │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

## 🎨 共通UIコンポーネント

### ヘッダー
```
┌──────────────────────────────────────────────────────────┐
│ 🍺 sun-nippo | ダッシュボード | 訪問記録 | 受注 | 日報   │
│                                          🔔 (3) | 👤 田中 │
└──────────────────────────────────────────────────────────┘
```

### ナビゲーションメニュー

**営業担当者（SALES）**:
- ダッシュボード
- 訪問記録
- 受注
- 日報
- プロフィール

**マネージャー（MANAGER）**:
- ダッシュボード
- チーム実績
- 訪問記録
- 受注
- 日報
- 店舗マスタ
- 商品マスタ
- プロフィール

**管理者（ADMIN）**:
- （全メニュー）
- ユーザー管理

### 通知ドロップダウン
```
┌────────────────────────────────┐
│ 通知 (3件)       [全て既読]     │
├────────────────────────────────┤
│ 🟢 田中太郎の日報が承認されました│
│    1時間前                      │
│ 🔵 佐藤花子から日報差し戻し      │
│    3時間前                      │
│ 🔴 システムメンテナンス予定      │
│    12/10 2:00-4:00             │
└────────────────────────────────┘
```

---

## 📱 レスポンシブ対応

### ブレークポイント
- **デスクトップ**: 1024px以上
- **タブレット**: 768px - 1023px
- **スマートフォン**: 767px以下

### モバイル時の変更点
- ナビゲーション: ハンバーガーメニュー
- テーブル: カード形式に変更
- 入力フォーム: 1カラムレイアウト
- ダッシュボード: 縦並び表示

---

## 🎨 デザインシステム

### カラーパレット
```
- Primary: #0066CC (サントリーブルー)
- Secondary: #FFD700 (ゴールド)
- Success: #28A745
- Warning: #FFC107
- Danger: #DC3545
- Info: #17A2B8
- Light: #F8F9FA
- Dark: #343A40
```

### タイポグラフィ
- **フォント**: Noto Sans JP, sans-serif
- **見出し**: 700 (Bold)
- **本文**: 400 (Regular)
- **サイズ**: 14px（ベース）、16px（大）、12px（小）

### スペーシング
- **xs**: 4px
- **sm**: 8px
- **md**: 16px
- **lg**: 24px
- **xl**: 32px

---

## ✅ アクセシビリティ

- WCAG 2.1 レベルA準拠
- キーボードナビゲーション対応
- スクリーンリーダー対応（ARIA属性）
- 十分なコントラスト比（4.5:1以上）
- フォーカスインジケーター表示

---

**作成者**: CodeGenAgent (源)
**バージョン**: 1.0.0
